<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" gdc-toolbox Global /api/mission/add/api/mission/check/api/mission/list/api/mission/show/api/mission/update Global Members &lt;route&gt; /api/mission/add Route: MethodPath POST /api/mission/add Publishes a mission. Do a check before publishing the mission. Body Parameters: Name Type Description form formData an html form containing the mission pbo file to be uploaded Header Parameters: Name Type Description Accept String application/json Content-Type String multipart/form-data Response: Name Type Description Success JSON full mission json Failed JSON check result Error JSON error message from server Response Code: Type Description 201 Success: the mission is published 202 Failed: the check reported an error 400 Error: bad request (file size exceeded, incomplete form, etc.) Example Typical POST request to publish a mission //header\\\\ POST /api/mission/add HTTP/1.1 Accept: application/json Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryWmunjnPoLceaU7KM //body\\\\ ------WebKitFormBoundaryWmunjnPoLceaU7KM Content-Disposition: form-data; name=\"file\"; filename=\"CPC-CO[25]-WelcomeToTheJungle-V2.pja305.pbo\" Content-Type: application/octet-stream //here is the file content ------WebKitFormBoundaryWmunjnPoLceaU7KM-- &lt;route&gt; /api/mission/check Route: MethodPath POST /api/mission/check Checks a mission pbo before it can be published Body Parameters: Name Type Description form formData an html form containing the mission pbo file to be checked Header Parameters: Name Type Description Accept String application/json Content-Type String multipart/form-data Response: Name Type Description Success JSON full mission json Failed JSON result of the check Error JSON error message from server Response Code: Type Description 200 Success: the mission is valid, ready to publish 202 Failed: the check reported an error 400 Error: bad request (file size exceeded, incomplete forme, etc.) Example &lt;caption&gt;Same as /api/mission/add route. Change the api endpoint to /api/mission/check&lt;/caption&gt; &lt;route&gt; /api/mission/list Route: MethodPath GET /api/mission/list Returns all published missions as JSON object. Header Parameters: Name Type Description Content-Type String any value accepted in Content-type field (text/html for example) Response: Name Type Description Success JSON list of all published missions Error JSON error message from server Response Code: Type Description 200 Success: list of missions successfully returned 400 Error: bad request Example Typical GET request to obtain the list of published missions //header\\\\ GET /api/mission/list HTTP/1.1 content-type: text/html //body\\\\ //Nothing &lt;route&gt; /api/mission/show Route: MethodPath GET /api/mission/show/:missionPbo Returns all information about a published mission as a JSON object Header Parameters: Name Type Description Accept String application/json Route Parameters: Name Type Description missionPbo String exact name of mission pbo file Response: Name Type Description Success JSON information about mission Failed JSON result of the check Error JSON error message from server Response Code: Type Description 200 Success: information about mission returned 400 Error: bad request 404 Error: non-existent pbo in database of published missions Example Typical GET request to obtain information about a published mission //header\\\\ GET /api/mission/show/exact-name-of-pbo-file-of-publisehd-mission.pbo HTTP/1.1 content-type: text/html //body\\\\ //Nothing &lt;route&gt; /api/mission/update Route: MethodPath PUT /api/mission/update/ Allows update on a very limited set of information about mission : missionIsPlayable and isMissionArchived Header Parameters: Name Type Description Accept String application/json Route Parameters: Name Type Description missionPbo String exact name of mission pbo file Response: Name Type Description Success JSON MissionPbo : new value for updateKey key is updateVal Failed JSON error message Error JSON error message Response Code: Type Description 200 Success: information about mission returned 202 Fail: update failed 400 Error: bad request 404 Error: pbo not found in database Example Typical PUT request to obtain information about a published mission //header\\\\ PUT /api/mission/update/exact-name-of-puvblished-pbo-file/?field-to-be-updated=new-value HTTP/1.1 content-type: text/html //body\\\\ //Nothing × Search results Close https://github.com/Tanin69/gdc-toolbox Documentation generated by JSDoc 3.6.4 on 2020-04-24T17:14:51+02:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" gdc-toolbox Global /api/mission/add/api/mission/check/api/mission/list/api/mission/show/api/mission/update gdc-toolbox, an arma 3 community toolbox Table of contents Intented audience Features Installation Frenquently asked questions Tech notes Intented audience This software is intended for players, mission creators and administrators of Arma 3 communities. Arma 3 is a military simulation video game created and edited by Bohemia Interactive Studios. Features Mission checking Checks the integrity of the mission .pbo file and compliance with certain rules. Each rule can be configured as blocking if it is not satisfied : file naming convention : the file name should follow a defined regexp (default: true) pbo integrity : the file should be a real pbo and could be dpbo without any error (default: true) briefing.sqf : a briefing.sqf should exist in the pbo file (default: true) mission.sqm : a mission.sqm should exist in the pbo file (default: true) description.ext : a description.ext should exist in the pbo file (default: false) Headless Client : a headless client named HC_Slot (case sensitive) should exist in mission.sqm, it should me declared as isPlayable=1 and should be type=\"HeadlessClient_F\" (default: true) -&gt; should match regex as .*name=\"HC_Slot\";\\s*isPlayable=1;[^type=\"HeadlessClient_F\";] mission.sqm is not binarized : (default: false). Be careful, if the mission.sqm is binarized, HC control and author detection will fail Informations gathering about mission By reading the different files contained in the pbo, by the name of the pbo file and other means, retrieves a maximum of information on the mission. missionPbo: pbo file name pboFileSize: pbo file size pboFileDateM: pbo publication date owner: mission owner (not implemented yet : \"admin\" for every mission) missionTitle: mission title. Extracted from mission file name missionIsPlayable: mission playabilty status (editable) missionVersion: mission version number. Extracted from mission file name missionMap: Arma map used by mission. Extracted from mission file name author: mission author. Extracted from description.ext, or from mission.sqm if not found in description.ext onLoadName: text that appears above the image during mission loading screen. Extracted from description.ext, or from mission.sqm if not found in deccription.ext onLoadMission: text that appears under the image during mission loading screen. Extracted from description.ext, or from mission.sqm if not found in deccription.ext overviewText: text that appears on the mission choice screen or in the lobby screen. Extracted from description.ext, or from mission.sqm if not found in deccription.ext gameType: the type of game (Coop, TVT, etc.). Extracted from description.ext, or from mission.sqm if not found in description.ext minPlayers: Minimum number of players as determined by the mission maker. Extracted from description.ext, or from mission.sqm if not found in description.ext maxPlayers: Maximum number of players as determined by the mission maker. Extracted from description.ext, or from mission.sqm if not found in description.ext missionBriefing: briefing content, extracted from a briefing.sqf file if this file exists in the mission pbo loadScreen: image file, if this file exists in the mission pbo file. Extracted from description.ext, or from mission.sqm if not found in deccription.ext. If declared but not found, the field is declared with \"image referenced in loadScreen, but image file not found in the pbo !\". Briefing extraction and rendering If a briefing.sqf file is present in the mission pbo, its content is extracted to allow its web rendering Technical details The briefing is rendered as an html page, using the showBriefing.hbs view. Briefing is automatically generated from the briefing.sqf file, by reading its content and computing it with some regex : player createDiaryRecord [\"Diary\", [\"Mission\", \"Notre commando a réussi à s'infiltrer près de l'aérodrome...\"]]; Where the string \"Mission\" is considered as a title and \"Notre commando...\" as a content. This content is rendered as pure (sanitized) html. All other strings are ignored. If a loadScreen field is found in the mission .pbo and if the referenced image is found, it is used as an illustrative image for the briefing. Mission publication Allows mission makers to publish their mission pbo to a directory located on the server, as defined by admin. Before publication, mission pbo is checked. If check is sucessfull, informations about the mission are grabbed and added to a database. List of missions Allows players to access the list of missions. The list : allows to render mission briefing as an html page, if the briefing had successfully been extracted from the mission pbo file (see above) allows to edit missionIsPlayable field (true or false) is sortable can be filtered Moreover : user can change column width and/or order the configuration of the list is locally saved (column order, height, sort, etc) Embed API Embed API is used, notably for discord embed Installation First installation Download and install Mikero tools on your server Mikero tools. At least : ExtractPbo DeOgg (maybe) DePbo Download and install node node Clone git repository git clone https://github.com/Tanin69/gdc-toolbox Install modules In the server directory, run npm install Define environment variables Copy .sample-env to .env Edit path with your configuration Frequently Asked Questions Publishing a mission I can not validate my mission. gdc-toolbox keeps telling me \"blabla\" Your mission must have been tested with success in arma 3 ! gdc-toolbox IS NOT a mission validator. Why does my image not appear in the briefing gdc-toolbox look for a \"loadScreen\" string in description.ext and mission.sqm files. It might fail mostly because of : missing semi-column at the end of loadScreen field in description.ext file AND no loadScreen value missing in mission.sqm. In description.ext file, this line must be as loadSreen = \"&lt;yourimage.jpg&gt;\"; &lt;- note the ending semi column wrong path or file name in description.ext or mission.sqm (Eden generated) Image file format .paa missing image file in pbo If your image file does not appear and your are not in one of the cases mentioned, please report a bug Author name and/or HC_Slot not found although declared/created in Eden editor Your mission.sqm is probably binarized. gdc-toolbox can not find these two informations if the mission.sqm file is binarized. Solution : don't binarize your mission.sqm file or create a description.ext with the correct informations. I entered \"blabla\" in the Eden loadName/loadScreen/etc mission attribute, but this is not what appears in gdc-toolbox gdc-toolbox takes at first informations grabbed from description.ext file. In Arma, these informations take precedence over mission.sqm informations. So does gdc-toolbox. Check your mission folder and look for a description.ext file. Tech notes Changelog See /api/CHANGELOG.md and /front/CHANGELOG.md Future work See /api/BACKLOG.md and /front/CHANGELOG.md General architecture This software is a node.js app. Until v0.3.3, the app was structured as a Model-View-Controller (MVC) architecture and had an underlying (sort of) REST API. From v0.4.0, a REST API and a frontend client architecture is adopted. Client side components Much of the logic is delegated to javascript client components List management : tabulator. Tabulator is an open source (MIT licence) javascript library. It is very well maintained, documented and very very powerfull. You should definitly take a look at tabulator ! File uploads : dropzoneJS × Search results Close https://github.com/Tanin69/gdc-toolbox Documentation generated by JSDoc 3.6.4 on 2020-04-24T17:14:51+02:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
